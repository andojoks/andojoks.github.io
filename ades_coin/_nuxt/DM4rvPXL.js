import{u as z}from"./CybbbFFs.js";import{d as M,r as m,i as R,g as s,t as T,y as e,v as y,z as l,s as G,A as r,x as C,B as H,C as J,_ as K}from"./UbqMnDbG.js";import"./DvF23Exx.js";const O=c=>(H("data-v-3b9ed004"),c=c(),J(),c),Q={class:"d-flex justify-space-between"},W=O(()=>y("span",{class:"font-weight-bold text-h4 text-primary"},"Registered Farmers",-1)),X=["textContent"],Y=M({__name:"index",setup(c){const u=z(),F=m([{title:"Farmers",disabled:!1,href:""}]),g=[{title:"First Name",key:"firstName"},{title:"Last Name",key:"lastName"},{title:"Phone Number",key:"phoneNumber"},{title:"Email",key:"email"},{title:"City",key:"address.city"},{title:"State",key:"address.state"},{title:"Country",key:"address.country"},{title:"Actions",key:"actions",sortable:!1}],v=m(!1),_=m("add"),p=m(null),o=m({firstName:"",lastName:"",phoneNumber:"",email:"",address:{city:"",state:"",country:""},crops:[],orders:[]}),S=R(()=>u.farmers),V=(i,a=null,f=null)=>{_.value=i,i==="edit"&&f?(p.value=a,o.value={...f}):o.value={firstName:"",lastName:"",phoneNumber:"",email:"",address:{city:"",state:"",country:""},crops:[],orders:[]},v.value=!0},N=()=>{v.value=!1},U=()=>{_.value==="add"?u.addFarmer({...o.value}):_.value==="edit"&&p.value!==null&&u.updateFarmer(p.value,{...o.value,id:u.farmers[p.value].id}),N()},q=i=>{u.deleteFarmer(i)};return(i,a)=>{const f=s("v-breadcrumbs"),b=s("v-btn"),w=s("router-link"),k=s("v-icon"),I=s("v-data-table"),A=s("v-card-title"),d=s("v-text-field"),n=s("v-col"),B=s("v-row"),E=s("v-container"),$=s("v-card-text"),D=s("v-spacer"),L=s("v-card-actions"),P=s("v-card"),h=s("v-dialog");return G(),T("div",null,[e(f,{items:F.value},null,8,["items"]),y("div",Q,[W,e(b,{color:"primary",onClick:a[0]||(a[0]=t=>V("add"))},{default:l(()=>[r("Add Farmer")]),_:1})]),e(I,{items:S.value,headers:g,class:"elevation-1"},{"item.firstName":l(({item:t})=>[e(w,{to:`/users/farmers/${t.id}`},{default:l(()=>[r(C(t.firstName),1)]),_:2},1032,["to"])]),"item.actions":l(({item:t,index:x})=>[e(k,{small:"",onClick:j=>V("edit",x,t)},{default:l(()=>[r("mdi-pencil")]),_:2},1032,["onClick"]),e(k,{small:"",onClick:j=>q(x)},{default:l(()=>[r("mdi-delete")]),_:2},1032,["onClick"])]),_:2},1032,["items"]),e(h,{modelValue:v.value,"onUpdate:modelValue":a[8]||(a[8]=t=>v.value=t),"max-width":"600px",scrollable:""},{default:l(()=>[e(P,null,{default:l(()=>[e(A,null,{default:l(()=>[y("span",{textContent:C(_.value==="add"?"Add Farmer":"Edit Farmer")},null,8,X)]),_:1}),e($,null,{default:l(()=>[e(E,null,{default:l(()=>[e(B,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[e(d,{modelValue:o.value.firstName,"onUpdate:modelValue":a[1]||(a[1]=t=>o.value.firstName=t),label:"First Name",required:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:l(()=>[e(d,{modelValue:o.value.lastName,"onUpdate:modelValue":a[2]||(a[2]=t=>o.value.lastName=t),label:"Last Name",required:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:l(()=>[e(d,{modelValue:o.value.phoneNumber,"onUpdate:modelValue":a[3]||(a[3]=t=>o.value.phoneNumber=t),label:"Phone Number",required:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:l(()=>[e(d,{modelValue:o.value.email,"onUpdate:modelValue":a[4]||(a[4]=t=>o.value.email=t),label:"Email",required:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:l(()=>[e(d,{modelValue:o.value.address.city,"onUpdate:modelValue":a[5]||(a[5]=t=>o.value.address.city=t),label:"City",required:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:l(()=>[e(d,{modelValue:o.value.address.state,"onUpdate:modelValue":a[6]||(a[6]=t=>o.value.address.state=t),label:"State",required:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:l(()=>[e(d,{modelValue:o.value.address.country,"onUpdate:modelValue":a[7]||(a[7]=t=>o.value.address.country=t),label:"Country",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(L,null,{default:l(()=>[e(D),e(b,{color:"blue darken-1",variant:"text",onClick:N},{default:l(()=>[r("Cancel")]),_:1}),e(b,{color:"blue darken-1",variant:"text",onClick:U},{default:l(()=>[r("Save")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),te=K(Y,[["__scopeId","data-v-3b9ed004"]]);export{te as default};
